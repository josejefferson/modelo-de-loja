<div class="container my-4">
	<h1 class="mb-2"><i class="fas fa-image"></i> Imagens</h1>
	<div class="row">
		<% images.forEach(image => { %>
			<div class="col-12 col-md-6 mt-4 user">
				<div class="card shadow-sm h-100">
					<img src="/images/<%= image._id %>" class="card-img-top">

					<ul class="list-group list-group-flush">
						<button class="list-group-item list-group-item-action list-group-item-danger remove" data-image-id="<%= image._id %>">
							<i class="fas fa-times"></i> Remover
						</button>
					</ul>
				</div>
			</div>
		<% }) %>
		<div class="col-12 col-md-6 mt-4">
			<div class="card shadow-sm h-100 bg-light">
				<a href="/images/add" class="btn card-body d-flex flex-column align-items-center justify-content-center">
					<i class="fas fa-plus fa-5x"></i>
					<b class="mt-3 fs-5">Adicionar imagem</b>
				</a>
			</div>
		</div>

		<a href="/images/add" class="btn btn-primary btn-lg btn-floating px-2 px-md-3 shadow">
			<i class="fas fa-plus me-md-2"></i>
			<div class="d-none d-md-block">Adicionar</div>
		</a>
	</div>
</div>

<script>
	$('.remove').click(function () {
		Swal.fire({
			title: 'Remover imagem',
			text: 'Tem certeza que deseja remover esta imagem?',
			showDenyButton: true,
			showCancelButton: false,
			confirmButtonText: 'Sim',
			denyButtonText: 'NÃ£o'
		}).then(r => {
			if (!r.isConfirmed) return
			$this = $(this)
			imageId = $this.data('imageId')
			location.href = '/images/remove/' + imageId
		})
	})
</script>